import gitlabVideo from "media/what-is-gitlab.mp4"
import githubVideo from "media/what-is-github.mp4"

<FullWidthBox sx={{
  backgroundColor: "text", 
  color: "background", 
  overflow: "hidden",
  textAlign: "center",
  py: 5
}}>

# Continuous Machine Learning (CML) is CI/CD for Machine Learning Projects

<Link variant="button" href="#">Get Started</Link>

<Switch sx={{mt: 4}} />

<Switchable
  gitlab={<Video src={gitlabVideo} mode="gitlab" />}
  github={<Video src={githubVideo} mode="github"/>}
/>

</FullWidthBox>

## GitFlow for data science

Use GitLab or GitHub to manage ML experiments, track who trained ML models or modified data and when. Codify data and models with DVC instead of pushing to your Git repo.

## Auto reports for ML experiments

Auto-generate reports with metrics and plots in each Git Pull Request. Rigorous engineering practices help your team make informed, data-driven decisions.

## No additional services

Build your own ML platform using just GitHub or GitLab and your favorite cloud services: AWS, Azure, GCP. No databases, services or complex setup needed.

# CML User Cases

The simplest case of using CML, and a clear way for any user to get started, is to generate a simple report. Add the following .yaml to your project repository and commit to get started

<Switch sx={{my: 4}} />

<JSONTabs content={[
  {
    name: "First CML Report",
    content: (
      <Switchable 
        github={(
<>

```yml
name: train-my-model

on: [push]

jobs:
  run:
    runs-on: [ubuntu-latest]
    container: docker://dvcorg/cml-py3:latest

    steps:
      - uses: actions/checkout@v2

      - name: dvc_cml_run
        env:
          repo_token: ${{ secrets.GITHUB_TOKEN }}
        run: |
          pip3 install -r requirements.txt
          python train.py
          
          cat metrics.txt >> report.md
          cml-publish confusion_matrix.png --md --title  'confusion-matrix' >> report.md
          cml-send-github-check report.md 
```

</>
        )}
        gitlab={(
<>

```yml
name: train-my-model

on: [push]

using: gitlab!

jobs:
  run:
    runs-on: [ubuntu-latest]
    container: docker://dvcorg/cml-py3:latest

    steps:
      - uses: actions/checkout@v2

      - name: dvc_cml_run
        env:
          repo_token: ${{ secrets.GITLAB_TOKEN }}
        run: |
          pip3 install -r requirements.txt
          python train.py
          
          cat metrics.txt >> report.md
          cml-publish confusion_matrix.png --md --title  'confusion-matrix' >> report.md
          cml-send-gitlab-check report.md 
```

</>
        )}
      />
    )
  },
  {
    name: "DVC",
    content: (
      <Switchable 
        github={(
<>

```yml
host: github
config: doesn't make sense on gitlab
```

</>
        )}
        gitlab={(
<>

```yml
host: gitlab
config: doesn't make sense on github
line: extra for example
```

</>
        )}
      />
    )
  },
  {
    name: "Tensorboard",
    content: <h3>This is tab three!</h3>
  }
]}/>

# What is CML?

CML is an easy way of combining the codified parts of your MLOps stack into a single solution.

## Codify workflow > using GitHub Actions and GitLab CI

## Codify environment > Docker or Packer

## Codify ML infrastructure > Terraform or docker-machine

## ML experiment reports > open source CML library
